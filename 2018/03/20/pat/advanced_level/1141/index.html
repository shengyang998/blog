<!DOCTYPE html><html><head><meta charset="utf-8"><title>PAT 1141 Python C++ è§£é¢˜ | Tech. Design. Life.</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="é¢˜æºï¼šhttps://www.patest.cn/contests/pat-a-practise/1141æ³¨æ„ï¼Œå¯¹äºæœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹ï¼Œä½¿ç”¨ Python è¯­è¨€ä¼šè¶…æ—¶ï¼Œä»å‰ä¸‰ä¸ªæµ‹è¯•ç‚¹æ¥çœ‹ï¼ŒåŒæ ·çš„é€»è¾‘ä¸‹ Python çš„é€Ÿåº¦å¤§æ¦‚æ˜¯ C++ çš„ 14%ï¼Œå—¯ï¼Œå¤ªæ…¢äº†â€¦â€¦"><meta name="keywords" content="PAT"><meta property="og:type" content="article"><meta property="og:title" content="PAT 1141 Python C++ è§£é¢˜"><meta property="og:url" content="http://blog.superyoung.win/2018/03/20/pat/advanced_level/1141/index.html"><meta property="og:site_name" content="Tech. Design. Life."><meta property="og:description" content="é¢˜æºï¼šhttps://www.patest.cn/contests/pat-a-practise/1141æ³¨æ„ï¼Œå¯¹äºæœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹ï¼Œä½¿ç”¨ Python è¯­è¨€ä¼šè¶…æ—¶ï¼Œä»å‰ä¸‰ä¸ªæµ‹è¯•ç‚¹æ¥çœ‹ï¼ŒåŒæ ·çš„é€»è¾‘ä¸‹ Python çš„é€Ÿåº¦å¤§æ¦‚æ˜¯ C++ çš„ 14%ï¼Œå—¯ï¼Œå¤ªæ…¢äº†â€¦â€¦"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2018-03-20T15:57:12.742Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="PAT 1141 Python C++ è§£é¢˜"><meta name="twitter:description" content="é¢˜æºï¼šhttps://www.patest.cn/contests/pat-a-practise/1141æ³¨æ„ï¼Œå¯¹äºæœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹ï¼Œä½¿ç”¨ Python è¯­è¨€ä¼šè¶…æ—¶ï¼Œä»å‰ä¸‰ä¸ªæµ‹è¯•ç‚¹æ¥çœ‹ï¼ŒåŒæ ·çš„é€»è¾‘ä¸‹ Python çš„é€Ÿåº¦å¤§æ¦‚æ˜¯ C++ çš„ 14%ï¼Œå—¯ï¼Œå¤ªæ…¢äº†â€¦â€¦"><link rel="alternate" href="/atom.xml" title="Tech. Design. Life." type="application/atom+xml"><link rel="icon" href="/favicon.png"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">Tech. Design. Life.</a></h1></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">é¦–é¡µ</a> <a class="main-nav-link" href="/archives">å½’æ¡£</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.superyoung.win"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-pat/advanced_level/1141" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2018/03/20/pat/advanced_level/1141/" class="article-date"><time datetime="2018-03-20T15:02:54.036Z" itemprop="datePublished">2018-03-20</time></a></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">PAT 1141 Python C++ è§£é¢˜</h1></header><div class="article-entry" itemprop="articleBody"><p>é¢˜æºï¼š<a href="https://www.patest.cn/contests/pat-a-practise/1141" target="_blank" rel="noopener">https://www.patest.cn/contests/pat-a-practise/1141</a></p><p>æ³¨æ„ï¼Œå¯¹äºæœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹ï¼Œä½¿ç”¨ Python è¯­è¨€ä¼šè¶…æ—¶ï¼Œä»å‰ä¸‰ä¸ªæµ‹è¯•ç‚¹æ¥çœ‹ï¼ŒåŒæ ·çš„é€»è¾‘ä¸‹ Python çš„é€Ÿåº¦å¤§æ¦‚æ˜¯ C++ çš„ 14%ï¼Œå—¯ï¼Œå¤ªæ…¢äº†â€¦â€¦<br><a id="more"></a></p><p>OKï¼Œç…§ä¾‹ï¼Œ</p><h2 id="å…ˆçœ‹é¢˜ç›®ï¼š"><a href="#å…ˆçœ‹é¢˜ç›®ï¼š" class="headerlink" title="å…ˆçœ‹é¢˜ç›®ï¼š"></a>å…ˆçœ‹é¢˜ç›®ï¼š</h2><blockquote><p>After each PAT, the PAT Center will announce the ranking of institutions based on their studentsâ€™ performances. Now you are asked to generate the ranklist.<br><strong>Input Specification</strong>:<br>Each input file contains one test case. For each case, the first line gives a positive integer N (&lt;=10^5), which is the number of testees. Then N lines follow, each gives the information of a testee in the following format:<br><strong>ID Score School</strong><br>where â€œIDâ€ is a string of 6 characters with the first one representing the test level: â€œBâ€ stands for the basic level, â€œAâ€ the advanced level and â€œTâ€ the top level; â€œScoreâ€ is an integer in [0, 100]; and â€œSchoolâ€ is the institution code which is a string of no more than 6 English letters (case insensitive). Note: it is guaranteed that â€œIDâ€ is unique for each testee.<br><strong>Output Specification</strong>:<br>For each case, first print in a line the total number of institutions. Then output the ranklist of institutions in nondecreasing order of their ranks in the following format:<br><strong>Rank School TWS Ns</strong><br>where â€œRankâ€ is the rank (start from 1) of the institution; â€œSchoolâ€ is the institution code (all in lower case); â€œTWSâ€ is the total weighted score which is defined to be the integer part of <code>&quot;ScoreB/1.5 + ScoreA + ScoreT*1.5&quot;</code>, where â€œScoreXâ€ is the total score of the testees belong to this institution on level X; and â€œNsâ€ is the total number of testees who belong to this institution.<br>The institutions are ranked according to their TWS. If there is a tie, the institutions are supposed to have the same rank, and they shall be printed in ascending order of Ns. If there is still a tie, they shall be printed in alphabetical order of their codes.</p></blockquote><h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h3><ul><li>æ—¶é—´é™åˆ¶ï¼š500ms</li><li>å†…å­˜é™åˆ¶ï¼š65537kB</li></ul><h3 id="è¾“å…¥è¾“å‡ºè¦æ±‚"><a href="#è¾“å…¥è¾“å‡ºè¦æ±‚" class="headerlink" title="è¾“å…¥è¾“å‡ºè¦æ±‚"></a>è¾“å…¥è¾“å‡ºè¦æ±‚</h3><p>é¢˜ç›®å¤§æ¦‚æ„æ€å°±æ˜¯è¯´ï¼Œå¯¹äºæ¯æ¬¡ PAT è€ƒè¯•ï¼Œæˆ‘ä»¬ä¼šå¯¹æ¯ä¸ªå­¦æ ¡è¿›è¡Œæ’åã€‚</p><ul><li>è¾“å…¥æ ¼å¼æ˜¯<code>N</code>ï¼Œ<code>ID Score School</code></li><li>è¾“å‡ºæ ¼å¼æ˜¯<code>N</code>ï¼Œ<code>Rank School TWS Ns</code><br>å…¶ä¸­ï¼š</li><li>N æ˜¯é˜Ÿä¼æ€»æ•°ï¼ˆN&lt;=100000ï¼‰</li><li>M æ˜¯å­¦æ ¡æ€»æ•°</li><li>ID æ˜¯ä¸€ä¸ªå®šé•¿ 6 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä½å–å€¼èŒƒå›´ï¼šâ€™Tâ€™, â€˜Aâ€™, â€˜Bâ€™</li><li>Score æ˜¯è¯¥ ID é˜Ÿä¼çš„æˆç»©</li><li>School å°±æ˜¯å­¦æ ¡åç§°äº†æ˜¯ä¸€ä¸ªä¸å®šé•¿çš„å­—ç¬¦ä¸²</li><li>Rank æ˜¯æ’åï¼Œæ³¨æ„é¢˜ç›®è¦æ±‚ï¼šéé€’å‡â€”â€”å°±æ˜¯å¯ä»¥è¿ç»­ç›¸åŒçš„ rankï¼Œæ•°å­¦ä¸Šå¯ä»¥å«é©»ç‚¹</li><li>TWS æ˜¯å­¦æ ¡çš„æ€»æˆç»©ï¼Œè®¡ç®—å…¬å¼ï¼š<code>ScoreB/1.5 + ScoreA + ScoreT*1.5</code>ï¼Œè¿™é‡Œçš„ Score[TAB] å¯¹åº”ä¸Šé¢ ID çš„ç¬¬ä¸€ä½ [TAB]</li><li>Ns æ˜¯å­¦æ ¡å‚èµ›é˜Ÿä¼æ•°é‡</li></ul><h3 id="æ’åºè§„åˆ™ï¼š"><a href="#æ’åºè§„åˆ™ï¼š" class="headerlink" title="æ’åºè§„åˆ™ï¼š"></a>æ’åºè§„åˆ™ï¼š</h3><p>é¦–å…ˆæŒ‰ç…§ TWS é€’å‡æ’åºã€‚<br>å¦‚æœ TWS ç›¸åŒï¼ŒæŒ‰ç…§ Ns é€’å¢æ’åºã€‚<br>å¦‚æœ Ns ç›¸åŒï¼ŒæŒ‰ç…§å­¦æ ¡åç§°çš„å­—æ¯è¡¨é¡ºåºæ’åº</p><p>å•Šå“ˆï¼Œçœ‹åˆ°è¿™é“é¢˜æœ‰ä»€ä¹ˆæ€è·¯å—ï¼Ÿ</p><ul><li>çœ‹åˆ°è¿™é“é¢˜åº”è¯¥æœ‰çš„å¤§è‡´æ€è·¯ï¼š<ol><li>ä½¿ç”¨å­—å…¸ï¼ˆå“ˆå¸Œè¡¨ï¼‰æ¥ä¿å­˜<code>å­¦æ ¡å</code>å’Œ<code>å­¦æ ¡</code></li><li>è¯»å–æ•°æ®åˆ°å­—å…¸(Complexity: O(N));</li><li>å¯¹å­—å…¸ï¼ŒæŒ‰ç…§è¦æ±‚ï¼Œè¿›è¡Œæ’åº(Complexity: O(2NlogN) or worst: O(2N^2));</li><li>è¾“å‡ºï¼Œè¿™é‡Œè¦æ³¨æ„æ’åï¼ˆrankï¼‰çš„æ˜¾ç¤ºè¦æ±‚â€”â€”éé€’å‡;</li></ol></li></ul><ol><li>æƒ³è¯´å…¶å®è¿™é“é¢˜æ€è·¯å¹¶ä¸éš¾ï¼Œä½†æ˜¯è¿™é“é¢˜çš„ç¡®èŠ±äº†æˆ‘ä¸å°‘æ—¶é—´ï¼Œå› ä¸ºæœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹ï¼ˆ5 pointsï¼‰æ€»æ˜¯è¶…æ—¶ã€‚å°±ç®—ä½¿ç”¨ Cpp unoredered_map çš„å¤„ç†æ—¶é—´ä¹Ÿæ¥è¿‘äº† 490msï¼Œå¥½æ‚¬ã€‚10^5 çš„æ•°æ®é‡ä¸æ•¢å°è§‘ã€‚</li><li>ä¸€å¼€å§‹é€‰æ‹©æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œæˆ‘ä½¿ç”¨äº†æ ‡å‡†åº“çš„ map ç»“æ„ï¼Œå¤§æ¦‚å¯ä»¥å½“åšä¸€ä¸ªçº¢é»‘æ ‘ã€‚æ‰€ä»¥ä¸ç®¡ä»€ä¹ˆæ’å…¥åˆ é™¤æ“ä½œå¤§æ¦‚éƒ½æ˜¯ O(logN) çš„å¤æ‚åº¦ï¼Œè¿™ä¸ªå¤æ‚åº¦å¤ªé«˜äº†ã€‚åæ¥æ”¹ç”¨ unorderd_map ç»“æ„ï¼Œä¹Ÿå³æ˜¯å“ˆå¸Œè¡¨ï¼Œå—¯ï¼Œæ’å…¥çš„æ—¶é—´å¤æ‚åº¦æ¥è¿‘ O(1) äº†ï¼Œå¾ˆå¥½ã€‚è¿™é‡Œè¦æ„Ÿè°¢ä¸€ä¸‹ Cpp æ ‡å‡†åº“ï¼Œä» map è¿ç§»åˆ° unordered_map åªæ”¹äº†ä¸¤å¤„ç±»å‹ç­¾åè€Œå·²ï¼Œéå¸¸æ–¹ä¾¿ã€‚</li><li>ä¸ºäº†è®©ä»£ç ç»“æ„æ¸…æ™°ï¼Œæˆ‘è®¾ç«‹äº†ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯ School ä¸€ä¸ªæ˜¯ Resultã€‚</li><li>Result ä¸­åªæœ‰ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå…¶ç±»å‹æ˜¯ï¼š unordered_map<string ,="" school*=""></string></li><li>åœ¨ School ä¸­ï¼Œå­˜æ”¾äº†å­¦æ ¡çš„åç§°ã€æ€»æˆç»©ã€é˜Ÿä¼æ•°ã€‚å€¼å¾—æä¸€ä¸‹çš„æ˜¯ï¼šä¸ºäº†é¿å…å†—ä½™çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ (double) -&gt; (long) æˆ‘ä½¿ç”¨ä¸€ä¸ªæƒ°æ€§è®¡ç®—çš„æŠ€å·§ï¼Œå³å¢åŠ ä¸€ä¸ªæˆå‘˜å˜é‡ long scï¼Œåœ¨è°ƒç”¨ get_score() çš„æ—¶å€™æ‰è®¡ç®—å‡º sc çš„å€¼ï¼Œè€Œå¦‚æœ sc å·²ç»è¢«è®¡ç®—è¿‡äº†ï¼Œé‚£å°±ç›´æ¥è¿”å› sc çš„å€¼ã€‚ä¹Ÿç®—æ˜¯ä¸€ç‚¹ç‚¹ä¼˜åŒ–å§ã€‚</li><li>å…¶ä»–çš„æ¯”å¦‚è¯´ cin ç¼“æ…¢çš„é—®é¢˜ï¼ˆcin ä¼šåˆ¤æ–­è¾“å…¥ç±»å‹æ˜¯å¦åŒ¹é…ï¼Œä¼šæ¯” scanf æ…¢ï¼‰ï¼Œå°±æ²¡æ—¶é—´æ”¹äº†ï¼Œå¦‚æœæœ‰å…´è¶£è‡ªå·±æ”¹æ”¹å§ï¼Œä¹Ÿä¸éš¾ã€‚</li></ol><p>ç…§ä¾‹ï¼ˆå¥½å§ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æœ‰æœºä¼šå†™ PAT çš„è§£é¢˜è¿‡ç¨‹ï¼Œæ²¡æœ‰å‰ä¾‹^_^ï¼‰<br>Cpp ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="comment">//#define DEBUG</span></div><div class="line"><span class="keyword">namespace</span> My &#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></div><div class="line">	<span class="keyword">long</span> cntlog = <span class="number">0</span>;</div><div class="line">	<span class="keyword">template</span> &lt;<span class="keyword">class</span> Tp&gt;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(Tp x, <span class="built_in">string</span> lv = <span class="string">"INFO"</span>)</span> </span>&#123;</div><div class="line">		My::cntlog++;</div><div class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--&gt; "</span> &lt;&lt; lv &lt;&lt; <span class="string">" "</span> &lt;&lt; x &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DEBUGs</span></div><div class="line">	<span class="keyword">template</span> &lt;<span class="keyword">class</span> Tp&gt;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(Tp x, ...)</span> </span>&#123;&#125;</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">class</span> School &#123; <span class="comment">// Class for saving status of each institution</span></div><div class="line">	<span class="built_in">string</span> name;</div><div class="line">	<span class="keyword">int</span> counter;</div><div class="line">	<span class="keyword">double</span> score;</div><div class="line">	<span class="keyword">long</span> sc; <span class="comment">// save time, for the convertion from double to long is somehow expensive</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">	School(<span class="built_in">string</span> &amp;name, <span class="keyword">double</span> score, <span class="keyword">char</span> level) &#123;</div><div class="line">		<span class="keyword">this</span>-&gt;name = name;</div><div class="line">		<span class="keyword">this</span>-&gt;counter = <span class="number">0</span>;</div><div class="line">		<span class="keyword">this</span>-&gt;score = <span class="number">0</span>;</div><div class="line">		<span class="keyword">this</span>-&gt;sc = <span class="number">-1</span>;</div><div class="line">		<span class="keyword">this</span>-&gt;append(score, level);</div><div class="line">	&#125;</div><div class="line">	<span class="function">School* <span class="title">append</span><span class="params">(<span class="keyword">double</span> score, <span class="keyword">char</span> level)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>-&gt;counter++;</div><div class="line">		<span class="keyword">double</span> lv = <span class="number">1.0</span>;</div><div class="line">		<span class="keyword">if</span> (level == <span class="string">'B'</span>)</div><div class="line">			lv = <span class="number">2.0</span> / <span class="number">3.0</span>;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (level == <span class="string">'T'</span>)</div><div class="line">			lv = <span class="number">1.5</span>;</div><div class="line">		<span class="keyword">this</span>-&gt;score += score * lv;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get_counter</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;counter;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">get_score</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>-&gt;sc == <span class="number">-1</span>)&#123;</div><div class="line">			<span class="keyword">this</span>-&gt;sc = <span class="keyword">long</span>(<span class="keyword">this</span>-&gt;score);	<span class="comment">// In the test case as the `Sample Input`, this line will be hit 5 times</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;sc;					<span class="comment">// and this line will be hit 49 times. So this `lazy initial tech` should save some time.</span></div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="built_in">string</span> <span class="title">get_name</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;name;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Result &#123; <span class="comment">// Class for saving the result, containing an unordered map of &lt;school name, School&gt;</span></div><div class="line">	<span class="built_in">unordered_map</span> &lt;<span class="built_in">string</span>, School*&gt; d;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">append</span><span class="params">(<span class="built_in">string</span> school_name, <span class="keyword">int</span> score, <span class="keyword">char</span> level)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span> (d.find(school_name) == d.end())</div><div class="line">			d.insert(pair &lt;<span class="built_in">string</span>, School*&gt; (school_name, <span class="keyword">new</span> School(school_name, score, level)));</div><div class="line">		<span class="keyword">else</span></div><div class="line">			d[school_name]-&gt;append(score, level);</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, School*&gt;&gt;&amp; sort() &#123; <span class="comment">// sort function. use a lambda to costumize, and return a sorted vector</span></div><div class="line">		<span class="keyword">auto</span> cmp = [&amp;](<span class="keyword">const</span> pair &lt;<span class="built_in">string</span>, School*&gt; &amp;lhs, <span class="keyword">const</span> pair &lt;<span class="built_in">string</span>, School*&gt; &amp;rhs) -&gt; <span class="keyword">bool</span> &#123;</div><div class="line">			<span class="keyword">if</span> (lhs.second-&gt;get_score() == rhs.second-&gt;get_score()) &#123;</div><div class="line">				<span class="keyword">if</span> (lhs.second-&gt;get_counter() == rhs.second-&gt;get_counter())</div><div class="line">					<span class="keyword">return</span> lhs.second-&gt;get_name() &lt; rhs.second-&gt;get_name();</div><div class="line">				<span class="keyword">else</span></div><div class="line">					<span class="keyword">return</span> lhs.second-&gt;get_counter() &lt; rhs.second-&gt;get_counter();</div><div class="line">			&#125; <span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">return</span> lhs.second-&gt;get_score() &gt; rhs.second-&gt;get_score();</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">		<span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, School*&gt;&gt; *vec = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, School*&gt;&gt;(<span class="keyword">this</span>-&gt;d.begin(), <span class="keyword">this</span>-&gt;d.end());</div><div class="line">		<span class="built_in">std</span>::sort(vec-&gt;begin(), vec-&gt;end(), cmp);</div><div class="line">		<span class="keyword">return</span> *vec;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> N;</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; N;</div><div class="line">	Result* res = <span class="keyword">new</span> Result();</div><div class="line">	<span class="keyword">while</span> (N--) &#123;</div><div class="line">		<span class="keyword">char</span> level[<span class="number">7</span>];</div><div class="line">		<span class="keyword">int</span> score;</div><div class="line">		<span class="built_in">string</span> name;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; level &gt;&gt; score &gt;&gt; name;</div><div class="line">		<span class="keyword">char</span> lv = level[<span class="number">0</span>];</div><div class="line">		transform(name.begin(), name.end(), name.begin(), ::<span class="built_in">tolower</span>); 	<span class="comment">// transform the school name to lower case</span></div><div class="line">		res-&gt;append(name, score, lv);									<span class="comment">// append to the result (as an unordered map)</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, School*&gt;&gt; r = res-&gt;sort();						<span class="comment">// sort the result and return a vector</span></div><div class="line">	<span class="keyword">unsigned</span> <span class="keyword">long</span> n = r.size();</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	<span class="keyword">unsigned</span> <span class="keyword">long</span> cnt = <span class="number">1</span>, i = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> iter = r.begin(); iter != r.end(); iter++) &#123;</div><div class="line">		i++;</div><div class="line">		<span class="keyword">if</span> (iter != r.begin() and iter-&gt;second-&gt;get_score() != (iter - <span class="number">1</span>)-&gt;second-&gt;get_score()) &#123; <span class="comment">// calculate the rank of each institution (Complexity: O(1), so the outter for loop is O(N))</span></div><div class="line">			cnt = i;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="string">" "</span> &lt;&lt; iter-&gt;second-&gt;get_name() &lt;&lt; <span class="string">" "</span> &lt;&lt; iter-&gt;second-&gt;get_score() &lt;&lt; <span class="string">" "</span> &lt;&lt; iter-&gt;second-&gt;get_counter() &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>Python ä»£ç å¦‚ä¸‹ï¼š(ä»£ç çŸ­ï¼Œå®¹æ˜“ç†è§£ã€‚é€»è¾‘å’Œ C++ ä»£ç ä¸€æ ·ï¼Œåªæ˜¯æœ€åä¸¤ä¸ªæµ‹è¯•ç‚¹è¶…æ—¶)<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>:</span></div><div class="line">	name = <span class="string">''</span></div><div class="line">	score = <span class="number">0</span></div><div class="line">	counter = <span class="number">0</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, school_name, score, level)</span>:</span></div><div class="line">		self.name = school_name</div><div class="line">		self.append(score, level)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">append</span><span class="params">(self, score, level)</span>:</span></div><div class="line">		self.counter += <span class="number">1</span></div><div class="line">		lv = <span class="number">1</span></div><div class="line">		<span class="keyword">if</span> level == <span class="string">'B'</span>:</div><div class="line">			lv = <span class="number">2</span>/<span class="number">3</span></div><div class="line">		<span class="keyword">elif</span> level == <span class="string">'T'</span>:</div><div class="line">			lv = <span class="number">1.5</span></div><div class="line">		self.score += score * lv</div><div class="line">		<span class="keyword">return</span> self</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">set_score_to_int</span><span class="params">(self)</span>:</span></div><div class="line">		self.score = int(self.score)</div><div class="line">		<span class="keyword">return</span> self</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	s = int(input())</div><div class="line">	d = &#123;&#125;</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(s):</div><div class="line">		t = input().split(<span class="string">' '</span>)</div><div class="line">		level = t[<span class="number">0</span>][<span class="number">0</span>]</div><div class="line">		score = int(t[<span class="number">1</span>])</div><div class="line">		school_name = t[<span class="number">2</span>].lower()</div><div class="line">		<span class="keyword">if</span> school_name <span class="keyword">in</span> d.keys():</div><div class="line">			d[school_name].append(score, level)</div><div class="line">		<span class="keyword">else</span>:</div><div class="line">			d[school_name] = School(school_name, score, level)</div><div class="line">	d = sorted(d.items(), key=<span class="keyword">lambda</span> x: [-x[<span class="number">1</span>].score, x[<span class="number">1</span>].counter, x[<span class="number">0</span>]])	<span class="comment"># Could cost most of the time</span></div><div class="line">	print(len(d))</div><div class="line">	cnt = <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(len(d)):</div><div class="line">		<span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> int(d[i][<span class="number">1</span>].score) != int(d[i<span class="number">-1</span>][<span class="number">1</span>].score):</div><div class="line">			cnt = i+<span class="number">1</span></div><div class="line">		print(<span class="string">"&#123;0&#125; &#123;1&#125; &#123;2&#125; &#123;3&#125;"</span>.format(cnt, d[i][<span class="number">1</span>].name, int(d[i][<span class="number">1</span>].score), d[i][<span class="number">1</span>].counter))</div></pre></td></tr></table></figure><p></p></div><footer class="article-footer"><a data-url="http://blog.superyoung.win/2018/03/20/pat/advanced_level/1141/" data-id="cjezuenz10000vifymput4a9k" class="article-share-link">Share</a> <a href="http://blog.superyoung.win/2018/03/20/pat/advanced_level/1141/#disqus_thread" class="article-comment-link">ç•™è¨€</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PAT/">PAT</a></li></ul></footer></div><nav id="article-nav"><a href="/2018/01/25/notes/install_tensorflow_from_source_for_macos/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">Instruction of Installing TensorFlow From Source</div></a></nav></article><section id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">æ ‡ç­¾äº‘</h3><div class="widget tagcloud"><a href="/tags/ARC/" style="font-size:10px">ARC</a> <a href="/tags/Bit-plane/" style="font-size:10px">Bit-plane</a> <a href="/tags/Block/" style="font-size:10px">Block</a> <a href="/tags/Class/" style="font-size:10px">Class</a> <a href="/tags/Coming-soon/" style="font-size:13.33px">Coming soon...</a> <a href="/tags/Command/" style="font-size:10px">Command</a> <a href="/tags/Computation/" style="font-size:10px">Computation</a> <a href="/tags/Coordinate/" style="font-size:10px">Coordinate</a> <a href="/tags/DATE/" style="font-size:10px">DATE</a> <a href="/tags/DATETIME/" style="font-size:10px">DATETIME</a> <a href="/tags/DataFrame/" style="font-size:10px">DataFrame</a> <a href="/tags/DataSource/" style="font-size:10px">DataSource</a> <a href="/tags/Debug/" style="font-size:10px">Debug</a> <a href="/tags/Delegate/" style="font-size:10px">Delegate</a> <a href="/tags/Difference/" style="font-size:11.67px">Difference</a> <a href="/tags/Digital/" style="font-size:10px">Digital</a> <a href="/tags/Driver/" style="font-size:10px">Driver</a> <a href="/tags/Emacs/" style="font-size:10px">Emacs</a> <a href="/tags/Enum/" style="font-size:10px">Enum</a> <a href="/tags/Experience/" style="font-size:10px">Experience</a> <a href="/tags/G/" style="font-size:10px">G++</a> <a href="/tags/GCC/" style="font-size:10px">GCC</a> <a href="/tags/GDB/" style="font-size:10px">GDB</a> <a href="/tags/GNU/" style="font-size:10px">GNU</a> <a href="/tags/Git/" style="font-size:10px">Git</a> <a href="/tags/GitHub/" style="font-size:10px">GitHub</a> <a href="/tags/Grubbs/" style="font-size:10px">Grubbs</a> <a href="/tags/Guide/" style="font-size:11.67px">Guide</a> <a href="/tags/High-Sierra/" style="font-size:10px">High Sierra</a> <a href="/tags/Image/" style="font-size:10px">Image</a> <a href="/tags/Installation/" style="font-size:10px">Installation</a> <a href="/tags/LLDB/" style="font-size:10px">LLDB</a> <a href="/tags/Language/" style="font-size:11.67px">Language</a> <a href="/tags/Linux/" style="font-size:11.67px">Linux</a> <a href="/tags/Matlab/" style="font-size:11.67px">Matlab</a> <a href="/tags/MySQL/" style="font-size:10px">MySQL</a> <a href="/tags/OS-X/" style="font-size:11.67px">OS X</a> <a href="/tags/ObjC/" style="font-size:10px">ObjC</a> <a href="/tags/Objective-C/" style="font-size:15px">Objective C</a> <a href="/tags/PAT/" style="font-size:10px">PAT</a> <a href="/tags/Pages/" style="font-size:10px">Pages</a> <a href="/tags/Pandas/" style="font-size:10px">Pandas</a> <a href="/tags/Parallel/" style="font-size:10px">Parallel</a> <a href="/tags/Path/" style="font-size:10px">Path</a> <a href="/tags/Photoshop/" style="font-size:10px">Photoshop</a> <a href="/tags/Processing/" style="font-size:10px">Processing</a> <a href="/tags/Programming/" style="font-size:20px">Programming</a> <a href="/tags/Python/" style="font-size:13.33px">Python</a> <a href="/tags/Redirect/" style="font-size:10px">Redirect</a> <a href="/tags/Rules/" style="font-size:10px">Rules</a> <a href="/tags/RxSwift/" style="font-size:11.67px">RxSwift</a> <a href="/tags/SVN/" style="font-size:10px">SVN</a> <a href="/tags/Science/" style="font-size:10px">Science</a> <a href="/tags/Sequence/" style="font-size:10px">Sequence</a> <a href="/tags/Series/" style="font-size:10px">Series</a> <a href="/tags/Server/" style="font-size:13.33px">Server</a> <a href="/tags/Shell/" style="font-size:11.67px">Shell</a> <a href="/tags/Sierra/" style="font-size:10px">Sierra</a> <a href="/tags/Spotlight/" style="font-size:10px">Spotlight</a> <a href="/tags/Struct/" style="font-size:10px">Struct</a> <a href="/tags/Swift/" style="font-size:16.67px">Swift</a> <a href="/tags/System/" style="font-size:10px">System</a> <a href="/tags/TIMESTAMP/" style="font-size:10px">TIMESTAMP</a> <a href="/tags/TenserFlow/" style="font-size:10px">TenserFlow</a> <a href="/tags/Tutorial/" style="font-size:11.67px">Tutorial</a> <a href="/tags/UIAlertController/" style="font-size:10px">UIAlertController</a> <a href="/tags/UITableView/" style="font-size:10px">UITableView</a> <a href="/tags/Unit/" style="font-size:10px">Unit</a> <a href="/tags/Wavelet/" style="font-size:10px">Wavelet</a> <a href="/tags/Working/" style="font-size:10px">Working</a> <a href="/tags/autoclosure/" style="font-size:10px">autoclosure</a> <a href="/tags/blog/" style="font-size:10px">blog</a> <a href="/tags/filter/" style="font-size:10px">filter</a> <a href="/tags/hexo/" style="font-size:10px">hexo</a> <a href="/tags/iOS/" style="font-size:18.33px">iOS</a> <a href="/tags/instance/" style="font-size:10px">instance</a> <a href="/tags/keyboard/" style="font-size:10px">keyboard</a> <a href="/tags/language/" style="font-size:10px">language</a> <a href="/tags/lazy-evaluation/" style="font-size:10px">lazy evaluation</a> <a href="/tags/log/" style="font-size:10px">log</a> <a href="/tags/macOS/" style="font-size:11.67px">macOS</a> <a href="/tags/map/" style="font-size:10px">map</a> <a href="/tags/parfor/" style="font-size:10px">parfor</a> <a href="/tags/reduce/" style="font-size:10px">reduce</a> <a href="/tags/type/" style="font-size:11.67px">type</a> <a href="/tags/which/" style="font-size:10px">which</a> <a href="/tags/ä¼˜åŒ–ç®—æ³•/" style="font-size:10px">ä¼˜åŒ–ç®—æ³•</a> <a href="/tags/ä¼˜åŒ–é—®é¢˜/" style="font-size:10px">ä¼˜åŒ–é—®é¢˜</a> <a href="/tags/ä¿®å›¾/" style="font-size:10px">ä¿®å›¾</a> <a href="/tags/å…¥é—¨/" style="font-size:10px">å…¥é—¨</a> <a href="/tags/å“åº”å¼/" style="font-size:11.67px">å“åº”å¼</a> <a href="/tags/å™ªå£°/" style="font-size:10px">å™ªå£°</a> <a href="/tags/åæ ‡ç³»ç»Ÿ/" style="font-size:10px">åæ ‡ç³»ç»Ÿ</a> <a href="/tags/å°æ³¢/" style="font-size:10px">å°æ³¢</a> <a href="/tags/å¼€å‘/" style="font-size:11.67px">å¼€å‘</a> <a href="/tags/å¼‚å¸¸å€¼/" style="font-size:10px">å¼‚å¸¸å€¼</a> <a href="/tags/æ•™ç¨‹/" style="font-size:11.67px">æ•™ç¨‹</a> <a href="/tags/æœåŠ¡å™¨/" style="font-size:11.67px">æœåŠ¡å™¨</a> <a href="/tags/æœºå™¨å­¦ä¹ /" style="font-size:10px">æœºå™¨å­¦ä¹ </a> <a href="/tags/æ¨¡æ‹Ÿé€€ç«ç®—æ³•/" style="font-size:10px">æ¨¡æ‹Ÿé€€ç«ç®—æ³•</a> <a href="/tags/ç¥ç»ç½‘ç»œ/" style="font-size:10px">ç¥ç»ç½‘ç»œ</a> <a href="/tags/ç¼ºå¤±å€¼/" style="font-size:10px">ç¼ºå¤±å€¼</a> <a href="/tags/é—ä¼ ç®—æ³•/" style="font-size:10px">é—ä¼ ç®—æ³•</a> <a href="/tags/é…ç½®/" style="font-size:11.67px">é…ç½®</a> <a href="/tags/é™å™ª/" style="font-size:10px">é™å™ª</a></div></div><div class="widget-wrap"><h3 class="widget-title">æœ€æ–°æ–‡ç« </h3><div class="widget"><ul><li><a href="/2018/03/20/pat/advanced_level/1141/">PAT 1141 Python C++ è§£é¢˜</a></li><li><a href="/2018/01/25/notes/install_tensorflow_from_source_for_macos/">Instruction of Installing TensorFlow From Source</a></li><li><a href="/2017/10/28/learning_emacs/start_server/">Setting Up Emacs Server to Speed Up Your Emacs</a></li><li><a href="/2017/10/07/learning_python/compile_executable_with_cython/">ç”¨ Cython æŠŠ Python æ–‡ä»¶ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶</a></li><li><a href="/2017/10/01/notes/update_high_sierra/">å‡çº§ macOS High Sierra å¤±è´¥æ€ä¹ˆåŠï¼ŸğŸ˜°</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">å½’æ¡£</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">ä¸‰æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">ä¸€æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">äº”æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">å››æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">ä¸‰æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">äºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">ä¸€æœˆ 2017</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2018 Yu Shengyang<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></div></div></footer><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c2f3493bffeb398373d9cda4fd1c6636";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-91049921-1","auto"),ga("send","pageview")</script></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">é¦–é¡µ</a> <a href="/archives" class="mobile-nav-link">å½’æ¡£</a></nav><script>var disqus_shortname="blog-ysy",disqus_url="http://blog.superyoung.win/2018/03/20/pat/advanced_level/1141/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>