var gDebug=false;var gDebugOnMobile=false;var gNumDebugMessagesSent=0;var gNumDebugMessagesQueued=0;var gDebugMessageQueue=new Array;var gDebugMessageRequest=null;var gDebugLastClassName="";var gDebugLastMethodName="";var gDebugSimulateSlowTextureDownload=false;var gDebugSimulateTextureLoadFailure=false;var gDebugSimulateScriptDownloadFailure=false;var kDebugFunction="function";var kDebugSurpressMessage="!NoOp_!NoOp";var kDebugSetupShowController=kDebugFunction+"_setupShowController";var kDebugShowController="!ShowController";var kDebugShowController_AdvanceToNextBuild=kDebugShowController+"_!advanceToNextBuild";var kDebugShowController_AdvanceToNextSlide=kDebugShowController+"_!advanceToNextSlide";var kDebugShowController_DoIdleProcessing=kDebugShowController+"_!doIdleProcessing";var kDebugShowController_GoBackToPreviousBuild=kDebugShowController+"_!goBackToPreviousBuild";var kDebugShowController_GoBackToPreviousSlide=kDebugShowController+"_!goBackToPreviousSlide";var kDebugShowController_HandleScriptDidDownloadEvent=kDebugShowController+"_!handleScriptDidDownloadEvent";var kDebugShowController_HandleScriptDidNotDownloadEvent=kDebugShowController+"_!handleScriptDidNotDownloadEvent";var kDebugShowController_JumpToScene=kDebugShowController+"_!jumpToScene";var kDebugShowController_OnKeyPress=kDebugShowController+"_!onKeyPress";var kDebugTouchController="!TouchController";var kDebugTouchController_HandleGestureEndEvent=kDebugTouchController+"_!handleGestureEndEvent";var kDebugTouchController_HandleGestureStartEvent=kDebugTouchController+"_!handleGestureStartEvent";var kDebugTouchController_HandleTouchCancelEvent=kDebugTouchController+"_!handleTouchCancelEvent";var kDebugTouchController_HandleTouchCancelEvent=kDebugTouchController+"_!handleTouchMoveEvent";var kDebugTouchController_HandleTouchEndEvent=kDebugTouchController+"_!handleTouchEndEvent";var kDebugTouchController_HandleTouchStartEvent=kDebugTouchController+"_!handleTouchStartEvent";var kDebugTouchController_Initialize=kDebugTouchController+"_!initialize";var kDebugTouchController_IsTouchWithinTrackArea=kDebugTouchController+"_!isTouchWithinTrackArea";var kDebugTouchController_SetTrackArea=kDebugTouchController+"_!setTrackArea";var kDebugScriptMangaer="!ScriptManager";var kDebugScriptMangaer_DownloadScript=kDebugScriptMangaer+"_!downloadScript";var kDebugTimer="DebugTimer";var kDebugTimer_AdvanceToNextBuild=kDebugTimer+"_!advanceToNextBuild";var kDebugTimer_CreateAnimationsForScene=kDebugTimer+"_!createAnimationsForScene";var kDebugTimer_ApplyAnimationsForScene=kDebugTimer+"_!applyAnimationsForScene";var kDebugTimer_PreProcessSceneAnimations=kDebugTimer+"_!preProcessSceneAnimations";var kDebugTimer_AdvanceToNextBuild_to_ApplyAnimations=kDebugTimer+"_!preProcessSceneAnimations_to_ApplyAnimations";var kDebugTimer_JumpToScene=kDebugTimer+"_!jumpToScene";var kDebugTimer_DisplayScene=kDebugTimer+"_!displayScene";function debugWarning(e,u){if(gDebug===false){return}debugSendMessage(e,"WARNING: "+u,true)}function debugMessageAlways(e,u){debugSendMessage(e,u,true)}function debugMessage(e,u){if(gDebug==false){return}if(gDevice==kDeviceMobile&&gDebugOnMobile==false){return}debugSendMessage(e,u,false)}function debugSendMessage(e,u,r){var o=e.indexOf("_");var a=e.substring(0,o);var n=e.substring(o+1);var g=false;if(a[0]=="!"){a=a.substring(1);g=true}if(n[0]=="!"){n=n.substring(1);g=true}if(n[0]=="+"){n=n.substring(1);r=true}if(g==true&&r==false){return}var t="";if(u==null){u=""}if(u[0]!="-"||a!=gDebugLastClassName||n!=gDebugLastMethodName){if(a==kDebugTimer){t=e+": "}else{if(a==kDebugFunction){t=n+"() "}else{t=a+"."+n+"() "}}}else{t=""}gDebugLastClassName=a;gDebugLastMethodName=n;if(gDevice==kDeviceMobile){gNumDebugMessagesSent++;var s=escape(gNumDebugMessagesSent+": "+t+u);gDebugMessageQueue[gNumDebugMessagesQueued]=s;gNumDebugMessagesQueued++;if(gNumDebugMessagesQueued==1){debugCheckMessageQueue()}}else{if(window.console){window.console.log(t+u)}}}function debugSendNextMessageInQueue(){var e=gDebugMessageQueue[0];gNumDebugMessagesQueued--;gDebugMessageQueue.splice(0,1);var u='/debugMessage.rhtml?message="'+e+'"';new Ajax.Request(u,{method:"get",onSuccess:function(e){debugMessageWasSent(e)},onFailure:function(e){debugMessageWasNotSent(e)}})}function debugMessageWasSent(e){debugCheckMessageQueue()}function debugMessageWasNotSent(e){debugCheckMessageQueue()}function debugCheckMessageQueue(){if(gNumDebugMessagesQueued>0){setTimeout(debugSendNextMessageInQueue,10)}}var DebugTimer=Class.create({initialize:function(e){var u=e.indexOf("_");var r=e.substring(u+1);if(r[0]!="!"){this.id=e;this.startTime=new Date;debugMessageAlways(e,"Start")}else{this.startTime=null}},stop:function(){if(this.startTime!=null){var e=new Date;var u=e-this.startTime;debugMessageAlways(this.id,"Stop - Elapsed Time: "+u)}}});function debugStopTimer(e){if(e){e.stop()}}var debugDomDumpLineNumber=0;function debugDumpDomFrom(e,u){var r=kDebugFunction+"_debugDumpDomFrom";debugDomDumpLineNumber=0;debugMessageAlways(r,"------------------ S T A R T   O F   D O M   D U M P --- Context: "+u);debugRecursivelyDumpDomFrom(e,"");debugMessageAlways(r,"------------------ E N D   O F   D O M   D U M P")}function debugRecursivelyDumpDomFrom(e,u){var r=kDebugFunction+"_recursivelyDumpDomFrom";var o=e.id;var a=e.nodeName.toLowerCase();if(a=="#text"){return}debugMessageAlways(r,"-"+debugDomDumpLineNumber++ +u+"<"+a+" id=""+o+"">");var n;for(n=0;n<e.childnodes.length;n++){var g="e.childNodes[n];recursivelyDumpDomFrom(g,u+"" ")}if(a="="img"){return}debugMessageAlways(r,"-"+debugDomDumpLineNumber++" +u+"<="" "+a+"="">")}</e.childnodes.length;n++){var></"+a+">