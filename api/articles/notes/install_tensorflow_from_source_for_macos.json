{"title":"Instruction of Installing TensorFlow From Source","slug":"notes/install_tensorflow_from_source_for_macos","date":"2018-01-24T16:07:40.115Z","updated":"2018-12-27T12:06:18.208Z","comments":true,"path":"api/articles/notes/install_tensorflow_from_source_for_macos.json","photos":[],"link":"","excerpt":"Notice: This Paste &amp; Run code is only meant for CPU Only build and only for macOS. You will need brew and pip installed before you run it.","covers":null,"content":"<p>Notice: This Paste &amp; Run code is only meant for <code>CPU Only</code> build and only for macOS. You will need brew and pip installed before you run it.</p><a id=\"more\"></a><ol><li><p>Paste these in your terminal and run:</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> 1. prepare environment for macOS</span><br><span class=\"line\">    # 1. install bazel with brew (recommended):</span><br><span class=\"line\">      brew install bazel</span><br><span class=\"line\">    # 2. install python dependencies</span><br><span class=\"line\">      pip install six numpy wheel</span><br><span class=\"line\"><span class=\"meta\">#</span> 2. clone source code from github: </span><br><span class=\"line\">    git clone https://github.com/tensorflow/tensorflow</span><br><span class=\"line\"><span class=\"meta\">#</span> 3. follow the configuration to configure</span><br><span class=\"line\">    cd tensorflow; ./configure</span><br><span class=\"line\"><span class=\"meta\">#</span> 4. build the pip package (without consume too much memory. If you don't need to limit the memory consumption, just delete the --local_resources flag)</span><br><span class=\"line\">    bazel build --config=opt --local_resources 2048,.5,1.0 //tensorflow/tools/pip_package:build_pip_package</span><br><span class=\"line\"><span class=\"meta\">#</span> 5. the command above will build the `build_pip_package` package, </span><br><span class=\"line\"><span class=\"meta\">#</span>    to build the `.whl` package, run the following command: </span><br><span class=\"line\">    rm -rf tmp; mkdir tmp; bazel-bin/tensorflow/tools/pip_package/build_pip_package ./tmp/tensorflow_pkg</span><br><span class=\"line\"><span class=\"meta\">#</span> 6. install whl package with pip ([tab] means type tab, for auto completion to interact)</span><br><span class=\"line\">    pip install /tmp/tensorflow_pkg/*;</span><br></pre></td></tr></table></figure><p>Alternatively, if you already have <code>gnu make</code> installed, it is easier for you to download the Makefile below and all you need to do is to run the shell code below:</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/shengyang998/easy_install_tensorflow.git &amp;&amp; \\ </span><br><span class=\"line\">cd easy_install_tensorflow &amp;&amp; make all;</span><br></pre></td></tr></table></figure></li><li><p>validate the installation is completed:</p><ol><li><p>use text editor to open a python file like (using vi here):</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi hello_world_tenserflow.py;</span><br></pre></td></tr></table></figure></li><li><p>and type in:</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> tensorflow <span class=\"keyword\">as</span> tf</span><br><span class=\"line\">hello = tf.constant(<span class=\"string\">'Hello, TensorFlow!'</span>)</span><br><span class=\"line\">sess = tf.Session()</span><br><span class=\"line\">print(sess.run(hello))</span><br></pre></td></tr></table></figure></li><li><p>then run the python script in the terminal:</p><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python hello_world_tensorflow.py;</span><br></pre></td></tr></table></figure></li></ol><p>The standard output should show up: <code>Hello, TensorFlow!</code> if your installation is completed sucessfully.</p></li><li><p>related link: <a href=\"https://www.tensorflow.org/versions/master/install/install_sources\" target=\"_blank\" rel=\"noopener\">Installing TensorFlow from Sources</a></p></li></ol>","categories":[],"tags":[{"name":"Installation","slug":"Installation","count":1,"path":"api/tags/Installation.json"},{"name":"TenserFlow","slug":"TenserFlow","count":1,"path":"api/tags/TenserFlow.json"}]}