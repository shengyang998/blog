{"title":"关闭 macOS 的 Spotlight 功能","slug":"learning_macos_command/disable_spotlight_in_macos","date":"2017-03-27T07:17:44.000Z","updated":"2018-10-16T07:52:36.031Z","comments":true,"path":"api/articles/learning_macos_command/disable_spotlight_in_macos.json","photos":[],"link":"","excerpt":"有时候 macOS 的 Spotlight 索引功能会占用太多系统资源，特别是在对磁盘频繁操作的时候，这种情况下，关闭 Spotlight 索引功能是个不错的选择。有两个办法可以关闭 Spotlight 索引功能，一个是使用系统偏好设置，将整个磁盘或者文件夹添加到不检查列表中。另外一个是使用命令行关闭索引功能… 第一种方法请参考Apple的帮助手册，下面主要介绍命令行的方法。","covers":null,"content":"<p>有时候 macOS 的 Spotlight 索引功能会占用太多系统资源，特别是在对磁盘频繁操作的时候，这种情况下，关闭 Spotlight 索引功能是个不错的选择。有两个办法可以关闭 Spotlight 索引功能，一个是使用系统偏好设置，将整个磁盘或者文件夹添加到不检查列表中。另外一个是使用命令行关闭索引功能… 第一种方法请参考Apple的帮助手册，下面主要介绍命令行的方法。</p><a id=\"more\"></a><h2 id=\"Turn-off-indexing：\"><a href=\"#Turn-off-indexing：\" class=\"headerlink\" title=\"Turn off indexing：\"></a>Turn off indexing：</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> turn off for all volumes:</span><br><span class=\"line\">sudo mdutil -a -i off</span><br><span class=\"line\"><span class=\"meta\">#</span> turn off for specific volumes:</span><br><span class=\"line\">sudo mdutil -i off \"/Volumes/Machintosh\\ HD\" # change it to whatever you need</span><br><span class=\"line\"><span class=\"meta\">#</span> turn on for all volumes:</span><br><span class=\"line\">sudo mdutil -a -i on</span><br></pre></td></tr></table></figure><blockquote><p>FYI: In macOS High Sierra, it will not be able to unload metadata, the use of <code>mdutil</code> command only should be enough. But I’ll just leave it here for a future demand.</p></blockquote><h3 id=\"unload-metadata\"><a href=\"#unload-metadata\" class=\"headerlink\" title=\"unload metadata:\"></a>unload metadata:</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span> unload</span><br><span class=\"line\">sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist</span><br><span class=\"line\"><span class=\"meta\">#</span> load</span><br><span class=\"line\">sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.metadata.mds.plist</span><br></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"macOS","slug":"macOS","count":2,"path":"api/tags/macOS.json"},{"name":"Spotlight","slug":"Spotlight","count":1,"path":"api/tags/Spotlight.json"},{"name":"OS X","slug":"OS-X","count":2,"path":"api/tags/OS-X.json"}]}